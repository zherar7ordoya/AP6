

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" >

<!-- Mirrored from mvcsharp.org/Strongly-typed_associations/Default.aspx by HTTrack Website Copier/3.x [XR&CO'2008], Thu, 30 Oct 2008 03:47:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head><title>
	Strongly-typed associations
</title><link href="../Styles.css" rel="stylesheet" type="text/css" /></head>
<body>
    <form name="aspnetForm" method="post" action="http://mvcsharp.org/Strongly-typed_associations/Default.aspx" id="aspnetForm">
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTEwMDUyNjYzMjgPZBYCZg9kFgICAw9kFgICCQ88KwAJAgAPFgQeDU5ldmVyRXhwYW5kZWRkHgtfIURhdGFCb3VuZGdkCBQrAAUFDzA6MCwwOjEsMDoyLDA6MxQrAAIWDB4EVGV4dAUNRG9jdW1lbnRhdGlvbh4FVmFsdWUFDURvY3VtZW50YXRpb24eC05hdmlnYXRlVXJsBRMvRG9jdW1lbnRhdGlvbi5hc3B4HghEYXRhUGF0aAUTL2RvY3VtZW50YXRpb24uYXNweB4JRGF0YUJvdW5kZx4IRXhwYW5kZWRnFCsABQUPMDowLDA6MSwwOjIsMDozFCsAAhYKHwIFCE92ZXJ2aWV3HwMFCE92ZXJ2aWV3HwQFFi9PdmVydmlldy9EZWZhdWx0LmFzcHgfBQUWL292ZXJ2aWV3L2RlZmF1bHQuYXNweB8GZ2QUKwACFgofAgUIRXhhbXBsZXMfAwUIRXhhbXBsZXMfBAUOL0V4YW1wbGVzLmFzcHgfBQUOL2V4YW1wbGVzLmFzcHgfBmcUKwAHBRcwOjAsMDoxLDA6MiwwOjMsMDo0LDA6NRQrAAIWCh8CBRwxLiBHZXR0aW5nIHN0YXJ0ZWQgd2l0aCBNVkMjHwMFHDEuIEdldHRpbmcgc3RhcnRlZCB3aXRoIE1WQyMfBAUrL0dldHRpbmdfc3RhcnRlZF93aXRoX01WQ1NoYXJwL0RlZmF1bHQuYXNweB8FBSsvZ2V0dGluZ19zdGFydGVkX3dpdGhfbXZjc2hhcnAvZGVmYXVsdC5hc3B4HwZnZBQrAAIWCh8CBRQyLiBUYXNrcyBpbnRlcmFjdGlvbh8DBRQyLiBUYXNrcyBpbnRlcmFjdGlvbh8EBR8vVGFza3NfSW50ZXJhY3Rpb24vRGVmYXVsdC5hc3B4HwUFHy90YXNrc19pbnRlcmFjdGlvbi9kZWZhdWx0LmFzcHgfBmdkFCsAAhYKHwIFHjMuIFVzaW5nIFdpbmZvcm1zIHZpZXdzIGVuZ2luZR8DBR4zLiBVc2luZyBXaW5mb3JtcyB2aWV3cyBlbmdpbmUfBAUpL1VzaW5nX1dpbmZvcm1zX3ZpZXdzX2VuZ2luZS9EZWZhdWx0LmFzcHgfBQUpL3VzaW5nX3dpbmZvcm1zX3ZpZXdzX2VuZ2luZS9kZWZhdWx0LmFzcHgfBmdkFCsAAhYKHwIFKDQuIFJld29ya2luZyBBU1AuTkVUIE1WQyBTdG9yZSB3aXRoIE1WQyMfAwUoNC4gUmV3b3JraW5nIEFTUC5ORVQgTVZDIFN0b3JlIHdpdGggTVZDIx8EBSgvUmV3b3JraW5nX0FTUE5FVF9NVkNfU3RvcmUvRGVmYXVsdC5hc3B4HwUFKC9yZXdvcmtpbmdfYXNwbmV0X212Y19zdG9yZS9kZWZhdWx0LmFzcHgfBmdkFCsAAhYKHwIFGTUuIEFkdmFuY2VkIEN1c3RvbWl6YXRpb24fAwUZNS4gQWR2YW5jZWQgQ3VzdG9taXphdGlvbh8EBSQvQWR2YW5jZWRfQ3VzdG9taXphdGlvbi9EZWZhdWx0LmFzcHgfBQUkL2FkdmFuY2VkX2N1c3RvbWl6YXRpb24vZGVmYXVsdC5hc3B4HwZnZBQrAAIWCh8CBRo2LiBTaWx2ZXJsaWdodCBhbmQgLk5FVCBDRh8DBRo2LiBTaWx2ZXJsaWdodCBhbmQgLk5FVCBDRh8EBREvU2lsdmVybGlnaHQuYXNweB8FBREvc2lsdmVybGlnaHQuYXNweB8GZ2QUKwACFgofAgUIQVBJIERvY3MfAwUIQVBJIERvY3MfBAUUL0FQSV9Eb2NzL0luZGV4LmFzcHgfBQUUL2FwaV9kb2NzL2luZGV4LmFzcHgfBmdkFCsAAhYMHwIFC0RldmVsb3BtZW50HwMFC0RldmVsb3BtZW50HwQFES9EZXZlbG9wbWVudC5hc3B4HwUFES9kZXZlbG9wbWVudC5hc3B4HwZnHwdnFCsABQUPMDowLDA6MSwwOjIsMDozFCsAAhYKHwIFGDEuIEJhc2ljcyBvZiBNVkMgYW5kIE1WUB8DBRgxLiBCYXNpY3Mgb2YgTVZDIGFuZCBNVlAfBAUjL0Jhc2ljc19vZl9NVkNfYW5kX01WUC9EZWZhdWx0LmFzcHgfBQUjL2Jhc2ljc19vZl9tdmNfYW5kX212cC9kZWZhdWx0LmFzcHgfBmdkFCsAAhYKHwIFJjIuIEltcGxlbWVudGluZyBjb3JlIE1WUCBmdW5jdGlvbmFsaXR5HwMFJjIuIEltcGxlbWVudGluZyBjb3JlIE1WUCBmdW5jdGlvbmFsaXR5HwQFMS9JbXBsZW1lbnRpbmdfY29yZV9NVlBfZnVuY3Rpb25hbGl0eS9EZWZhdWx0LmFzcHgfBQUxL2ltcGxlbWVudGluZ19jb3JlX212cF9mdW5jdGlvbmFsaXR5L2RlZmF1bHQuYXNweB8GZ2QUKwACFgofAgUiMy4gRGVzaWduaW5nIFdpbmZvcm1zIHZpZXdzIGVuZ2luZR8DBSIzLiBEZXNpZ25pbmcgV2luZm9ybXMgdmlld3MgZW5naW5lHwQFLS9EZXNpZ25pbmdfV2luZm9ybXNfdmlld3NfZW5naW5lL0RlZmF1bHQuYXNweB8FBS0vZGVzaWduaW5nX3dpbmZvcm1zX3ZpZXdzX2VuZ2luZS9kZWZhdWx0LmFzcHgfBmdkFCsAAhYOHwIFHjQuIFN0cm9uZ2x5IHR5cGVkIGFzc29jaWF0aW9ucx8DBR40LiBTdHJvbmdseSB0eXBlZCBhc3NvY2lhdGlvbnMfBAUpL1N0cm9uZ2x5LXR5cGVkX2Fzc29jaWF0aW9ucy9EZWZhdWx0LmFzcHgfBQUpL3N0cm9uZ2x5LXR5cGVkX2Fzc29jaWF0aW9ucy9kZWZhdWx0LmFzcHgfBmceCFNlbGVjdGVkZx8HZ2QUKwACFgofAgUHQ2hhbmdlcx8DBQdDaGFuZ2VzHwQFDS9DaGFuZ2VzLmFzcHgfBQUNL2NoYW5nZXMuYXNweB8GZ2QUKwACFgofAgUIRmVlZGJhY2sfAwUIRmVlZGJhY2sfBAUOL0ZlZWRiYWNrLmFzcHgfBQUOL2ZlZWRiYWNrLmFzcHgfBmdkFCsAAhYKHwIFCERvd25sb2FkHwMFCERvd25sb2FkHwQFDi9Eb3dubG9hZC5hc3B4HwUFDi9kb3dubG9hZC5hc3B4HwZnZGQYAQUeX19Db250cm9sc1JlcXVpcmVQb3N0QmFja0tleV9fFgEFCmN0bDAwJE1lbnXdXCY6KZggVMHqsR1WZauYBEwQgg==" />

        <div id="pageWrapper">
            
            <div>
                <img id="ctl00_logo" src="../Images/logo.PNG" border="0" />
                <div id="breadcrumbs">
                    <div><img id="ctl00_spacer" src="../Images/spacer.bmp" height="1" width="875" border="0" /></div>
                    <span id="ctl00_SiteMapPath"><a href="#ctl00_SiteMapPath_SkipLink"><img alt="Skip Navigation Links" height="0" width="0" src="../WebResourcee862.gif?d=-tf2UOPilGOzHQ2P_iOPlg2&amp;t=633440833918844552" border="0" /></a><span><a href="../Default.html">Home</a></span><span>&#160;&gt;&#160;</span><span><a href="../Documentation.html">Documentation</a></span><span>&#160;&gt;&#160;</span><span><a href="../Development.html">Development</a></span><span>&#160;&gt;&#160;</span><span>4. Strongly typed associations</span><a id="ctl00_SiteMapPath_SkipLink"></a></span>
                </div>
            </div>
            <div id="menuAndContent">
                <div id="menu">
                    <a href="#ctl00_Menu_SkipLink"><img alt="Skip Navigation Links." src="../WebResourcee862.gif?d=-tf2UOPilGOzHQ2P_iOPlg2&amp;t=633440833918844552" width="0" height="0" border="0" /></a><table id="ctl00_Menu" cellpadding="0" cellspacing="0" border="0" width="238"><tr><td>
	<table cellpadding="0" cellspacing="0">
		<tr>
			<td class="menuItem"><a class="menuItem" href="../Documentation.html" id="ctl00_Menun0">Documentation</a></td>
		</tr>
	</table><table cellpadding="0" cellspacing="0">
		<tr>
			<td><table width="20">
				<tr>
					<td></td>
				</tr>
			</table></td><td class="menuItem"><a class="menuItem" href="../Overview/Default.html" id="ctl00_Menun1">Overview</a></td>
		</tr>
	</table><table cellpadding="0" cellspacing="0">
		<tr>
			<td><table width="20">
				<tr>
					<td></td>
				</tr>
			</table></td><td class="menuItem"><a class="menuItem" href="../Examples.html" id="ctl00_Menun2">Examples</a></td>
		</tr>
	</table><table cellpadding="0" cellspacing="0">
		<tr>
			<td><table width="20">
				<tr>
					<td></td>
				</tr>
			</table></td><td class="menuItem"><a class="menuItem" href="http://mvcsharp.org/API_Docs/Index.aspx" id="ctl00_Menun9">API Docs</a></td>
		</tr>
	</table><table cellpadding="0" cellspacing="0">
		<tr>
			<td><table width="20">
				<tr>
					<td></td>
				</tr>
			</table></td><td class="menuItem"><a class="menuItem" href="../Development.html" id="ctl00_Menun10">Development</a></td>
		</tr>
	</table><table cellpadding="0" cellspacing="0">
		<tr>
			<td><table width="20">
				<tr>
					<td></td>
				</tr>
			</table></td><td><table width="20">
				<tr>
					<td></td>
				</tr>
			</table></td><td class="menuItem"><a class="menuItem" href="../Basics_of_MVC_and_MVP/Default.html" id="ctl00_Menun11">1. Basics of MVC and MVP</a></td>
		</tr>
	</table><table cellpadding="0" cellspacing="0">
		<tr>
			<td><table width="20">
				<tr>
					<td></td>
				</tr>
			</table></td><td><table width="20">
				<tr>
					<td></td>
				</tr>
			</table></td><td class="menuItem"><a class="menuItem" href="../Implementing_core_MVP_functionality/Default.html" id="ctl00_Menun12">2. Implementing core MVP functionality</a></td>
		</tr>
	</table><table cellpadding="0" cellspacing="0">
		<tr>
			<td><table width="20">
				<tr>
					<td></td>
				</tr>
			</table></td><td><table width="20">
				<tr>
					<td></td>
				</tr>
			</table></td><td class="menuItem"><a class="menuItem" href="../Designing_Winforms_views_engine/Default.html" id="ctl00_Menun13">3. Designing Winforms views engine</a></td>
		</tr>
	</table><table cellpadding="0" cellspacing="0">
		<tr>
			<td><table width="20">
				<tr>
					<td></td>
				</tr>
			</table></td><td><table width="20">
				<tr>
					<td></td>
				</tr>
			</table></td><td class="menuItemSelected menuItem"><a class="menuItemSelected menuItem" href="Default.html" id="ctl00_Menun14">4. Strongly typed associations</a></td>
		</tr>
	</table><table cellpadding="0" cellspacing="0">
		<tr>
			<td class="menuItem"><a class="menuItem" href="../Changes.html" id="ctl00_Menun15">Changes</a></td>
		</tr>
	</table><table cellpadding="0" cellspacing="0">
		<tr>
			<td class="menuItem"><a class="menuItem" href="../Feedback.html" id="ctl00_Menun16">Feedback</a></td>
		</tr>
	</table><table cellpadding="0" cellspacing="0">
		<tr>
			<td class="menuItem"><a class="menuItem" href="../Download.html" id="ctl00_Menun17">Download</a></td>
		</tr>
	</table>
</td></tr></table><a id="ctl00_Menu_SkipLink"></a>
                </div> 
                <div id="content">  
                    
<h1>Part 4. Strongly typed associations</h1>
    <p>
        <a href="#Introduction">Introduction</a><br />
        <a href="#Solution outline">Solution outline</a><br />
        <a href="#Solution implementation">Solution implementation</a><br />
        <a href="#Summary">Summary</a><br /></p>

    <a id="Introduction"></a><h2>
        Introduction</h2>
    <p>
        In the previous parts (<a href="../Basics_of_MVC_and_MVP/Default.html">1</a>, <a
            href="../Implementing_core_MVP_functionality/Default.html">2</a>, <a href="../Designing_Winforms_views_engine/Default.html">
                3</a>) we have constructed a quite usable and functional
        framework. However it still has some drawbacks. One of them is the necessity of
        typecasting when accessing controllers, views and tasks. The example below demonstrates
        such typecasting:</p>
    <pre><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">class</span><span style="color: #000000;"> ProductsView : WebFormView, IProductsView
    ...
    </span><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> ShowProductDetailsButton_Click(</span><span style="color: #0000FF;">object</span><span style="color: #000000;"> sender, EventArgs e)
    {
        (Controller </span><span style="color: #0000FF;">as</span><span style="color: #000000;"> ProductsController).ShowProductDetails(); </span><span style="color: #008000;">//</span><span style="color: #008000;"> typecasting required</span><span style="color: #008000;">
</span><span style="color: #000000;">    }</span></pre>
    <p>
        As a system grows such typecasts may bloat code excessively decreasing its readability
        and leading to errors. To eliminate this drawback we need a means of explicitly
        specifying the type of the associated controller (or view/task). In other words
        we need to make associations between tasks, controllers and views strongly typed.</p>    
    <a id="Solution outline"></a><h2>
        Solution outline</h2>
    <p>
        The most obvious solution is to isolate the typecasing operation in a new property
        of the required type:</p>
    <pre><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">class</span><span style="color: #000000;"> ProductsView : WebFormView, IProductsView
    ...
    </span><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> ProductsController Controller
    {
        </span><span style="color: #0000FF;">get</span><span style="color: #000000;"> { </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> </span><span style="color: #0000FF;">base</span><span style="color: #000000;">.Controller </span><span style="color: #0000FF;">as</span><span style="color: #000000;"> ProductsController; }
        </span><span style="color: #0000FF;">set</span><span style="color: #000000;"> { </span><span style="color: #0000FF;">base</span><span style="color: #000000;">.Controller </span><span style="color: #000000;">=</span><span style="color: #000000;"> value; }
    }

    </span><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> ShowProductDetailsButton_Click(</span><span style="color: #0000FF;">object</span><span style="color: #000000;"> sender, EventArgs e)
    {
        Controller.ShowProductDetails(); </span><span style="color: #008000;">//</span><span style="color: #008000;"> typecasting NOT required</span><span style="color: #008000;">
</span><span style="color: #000000;">    }</span></pre>
    <p>
        Although acceptable, this solution requires several additional lines of code. More
        elegant solution can be constructed with a handy feature of .NET framework called
        Generics. Generics mechanism allows varying a class members' types by specifying
        those types in the class declaration. For example it is possible to adjust a return
        type for certain properties by writing that type in brackets in the class definition
        line.</p>
    <p>
        Applying Generics we could strictly specify the type of the association between
        a view and its controller as in the code below:</p>
    <pre><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">class</span><span style="color: #000000;"> ProductsView : WebFormView</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">ProductsController</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">, IProductsView
    ...
    </span><span style="color: #0000FF;">private</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> ShowProductDetailsButton_Click(</span><span style="color: #0000FF;">object</span><span style="color: #000000;"> sender, EventArgs e)
    {
        Controller.ShowProductDetails(); </span><span style="color: #008000;">//</span><span style="color: #008000;"> typecasting NOT required</span><span style="color: #008000;">
</span><span style="color: #000000;">    }</span></pre>
    <p>
        To make the above code workable we need to extend our framework, adding the generics
        support.</p>
    <a id="Solution implementation"></a><h2>
        Solution implementation</h2>
    <p>
        First of all we will add generic view and controller interfaces to the framework.
        They will extend old IView and IController interfaces with new strongly typed
        generic associations:</p>
    <pre><span style="color: #000000;">    </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">interface</span><span style="color: #000000;"> IView</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">T</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> : IView </span><span style="color: #0000FF;">where</span><span style="color: #000000;"> T : IController
    {
        </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> T Controller
        {
            </span><span style="color: #0000FF;">get</span><span style="color: #000000;">;
            </span><span style="color: #0000FF;">set</span><span style="color: #000000;">;
        }
    }</span></pre>
    <pre><span style="color: #000000;">    </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">interface</span><span style="color: #000000;"> IController</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">TTask, TView</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> : IController </span><span style="color: #0000FF;">where</span><span style="color: #000000;"> TTask : ITask
    {
        </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> TTask Task
        {
            </span><span style="color: #0000FF;">get</span><span style="color: #000000;">;
            </span><span style="color: #0000FF;">set</span><span style="color: #000000;">;
        }

        </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> TView View
        {
            </span><span style="color: #0000FF;">get</span><span style="color: #000000;">;
            </span><span style="color: #0000FF;">set</span><span style="color: #000000;">;
        }
    }</span></pre>
    <p>
        These interfaces alone do provide strongly typed associations, however we also need
        to write some base generic implementation classes for these interfaces. So a developer
        will only inherit these base classes instead of implementing the interfaces above.</p>
    <p>
        We will implement the properties simply with backing fields and mark them virtual
        so that a developer may override them in subclasses:</p>
    <pre><span style="color: #000000;">    </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">class</span><span style="color: #000000;"> WinFormView</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">T</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> : Form, IView</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">T</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> </span><span style="color: #0000FF;">where</span><span style="color: #000000;"> T : </span><span style="color: #0000FF;">class</span><span style="color: #000000;">, IController
    {
        ...
        </span><span style="color: #0000FF;">protected</span><span style="color: #000000;"> T controller;

        </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">virtual</span><span style="color: #000000;"> T Controller
        {
            </span><span style="color: #0000FF;">get</span><span style="color: #000000;"> { </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> controller; }
            </span><span style="color: #0000FF;">set</span><span style="color: #000000;"> { controller </span><span style="color: #000000;">=</span><span style="color: #000000;"> value; }
        }

        IController IView.Controller
        {
            </span><span style="color: #0000FF;">get</span><span style="color: #000000;"> { </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> Controller; }
            </span><span style="color: #0000FF;">set</span><span style="color: #000000;"> { Controller </span><span style="color: #000000;">=</span><span style="color: #000000;"> value </span><span style="color: #0000FF;">as</span><span style="color: #000000;"> T; }
        }
        ...
    }</span></pre>
    <pre><span style="color: #000000;">    </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">class</span><span style="color: #000000;"> ControllerBase</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">TTask, TView</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> : IController</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">TTask, TView</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">
        </span><span style="color: #0000FF;">where</span><span style="color: #000000;"> TTask : </span><span style="color: #0000FF;">class</span><span style="color: #000000;">, ITask
        </span><span style="color: #0000FF;">where</span><span style="color: #000000;"> TView : </span><span style="color: #0000FF;">class</span><span style="color: #000000;">
    {
        </span><span style="color: #0000FF;">protected</span><span style="color: #000000;"> TTask task;
        </span><span style="color: #0000FF;">protected</span><span style="color: #000000;"> TView view;

        </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">virtual</span><span style="color: #000000;"> TTask Task
        {
            </span><span style="color: #0000FF;">get</span><span style="color: #000000;"> { </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> task; }
            </span><span style="color: #0000FF;">set</span><span style="color: #000000;"> { task </span><span style="color: #000000;">=</span><span style="color: #000000;"> value; }
        }

        </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">virtual</span><span style="color: #000000;"> TView View
        {
            </span><span style="color: #0000FF;">get</span><span style="color: #000000;"> { </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> view; }
            </span><span style="color: #0000FF;">set</span><span style="color: #000000;"> { view </span><span style="color: #000000;">=</span><span style="color: #000000;"> value; }
        }

        ITask IController.Task
        {
            </span><span style="color: #0000FF;">get</span><span style="color: #000000;"> { </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> Task; }
            </span><span style="color: #0000FF;">set</span><span style="color: #000000;"> { Task </span><span style="color: #000000;">=</span><span style="color: #000000;"> value </span><span style="color: #0000FF;">as</span><span style="color: #000000;"> TTask; }
        }

        IView IController.View
        {
            </span><span style="color: #0000FF;">get</span><span style="color: #000000;"> { </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> View </span><span style="color: #0000FF;">as</span><span style="color: #000000;"> IView; }
            </span><span style="color: #0000FF;">set</span><span style="color: #000000;"> { View </span><span style="color: #000000;">=</span><span style="color: #000000;"> value </span><span style="color: #0000FF;">as</span><span style="color: #000000;"> TView; }
        }
    }</span></pre>
    <p>
        Note that the non-generic <code>IView</code> and <code>IController</code> interfaces
        are implemented as gateways to the strongly typed generic properties. This makes
        the access in the old non-generic manner (as done by the framework) equivalent to
        accessing the new strongly typed properties.</p>
    <p>
        Below is an example of using the new generic features of the framework:</p>
    <pre><span style="color: #000000;">    </span><span style="color: #0000FF;">class</span><span style="color: #000000;"> MyController : ControllerBase</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">MyTask, IMyView</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">
    {
        </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> MyOperation()
        {
            View.MyViewOperation(); </span><span style="color: #008000;">//</span><span style="color: #008000;"> Typecasting to IMyView NOT required</span><span style="color: #008000;">
</span><span style="color: #000000;">        }
    
        </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">override</span><span style="color: #000000;"> MyTask Task
        {
            </span><span style="color: #0000FF;">get</span><span style="color: #000000;"> { </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> </span><span style="color: #0000FF;">base</span><span style="color: #000000;">.Task; }
            </span><span style="color: #0000FF;">set</span><span style="color: #000000;">
            {
                </span><span style="color: #0000FF;">base</span><span style="color: #000000;">.Task </span><span style="color: #000000;">=</span><span style="color: #000000;"> value;
                </span><span style="color: #008000;">//</span><span style="color: #008000;"> Controller initialization here</span><span style="color: #008000;">
</span><span style="color: #000000;">                ...
            }
        }
    }</span></pre>
    <a id="Summary"></a><h2>
        Summary</h2>
    <p>
        In
        &nbsp;the article we have developed new framework features which make it more
        usable and allow to avoid typecasting errors.</p>

                </div>
            </div>
        </div>
        <div style="text-align:center; font-size:11px;">Copyright © www.MVCSharp.org</div>
    </form>
</body>

<!-- Mirrored from mvcsharp.org/Strongly-typed_associations/Default.aspx by HTTrack Website Copier/3.x [XR&CO'2008], Thu, 30 Oct 2008 03:47:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>
